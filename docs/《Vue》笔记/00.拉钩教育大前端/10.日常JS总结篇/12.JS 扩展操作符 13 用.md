---
title: JS æ‰©å±•æ“ä½œç¬¦ 13 ç”¨
date: 2023-05-19 20:42:05
permalink: /pages/2e536e/
categories:
  - ã€ŠVueã€‹ç¬”è®°
  - æ‹‰é’©æ•™è‚²å¤§å‰ç«¯
tags:
  - 
author: 
  name: citccld
  link: https://github.com/citccld
---
# JS æ‰©å±•æ“ä½œç¬¦ 13 ç”¨

## 1. å­—ç¬¦ä¸²è½¬æ•°ç»„

å­—ç¬¦ä¸²è½¬æ•°ç»„æœ€æ™®éçš„åšæ³•æ˜¯è¿™æ ·ï¼š

```js
let str = 'hello'
let arr = str.split('')
console.log(arr)  // ['h', 'e', 'l', 'l', 'o']
```

è€Œä½¿ç”¨äº†æ‰©å±•æ“ä½œç¬¦åå¯ä»¥è¿™æ ·ï¼š

```js
let str = 'hello'
let arr = [...str]
console.log(arr)  // ['h', 'e', 'l', 'l', 'o']
```

## 2. å°†ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„

åœ¨ `JS` ä¸­æœ‰ä¸€ç§æ•°æ®ç»“æ„å«åš `NodeList`ï¼Œå®ƒå’Œæ•°ç»„å¾ˆç›¸ä¼¼ï¼Œä¹Ÿè¢«å«åšâ€œç±»æ•°ç»„â€ï¼Œç±»æ•°ç»„æ˜¯ä»€ä¹ˆï¼Ÿåœ¨ MDN ä¸­æ˜¯è¿™ä¹ˆå®šä¹‰å®ƒçš„ï¼š

> ç±»æ•°ç»„ï¼šæ‹¥æœ‰ä¸€ä¸ª length å±æ€§å’Œè‹¥å¹²ç´¢å¼•å±æ€§çš„ä»»æ„å¯¹è±¡ã€‚

ç±»æ•°ç»„æœ‰å“ªäº›å‘¢ï¼Ÿä»¥ä¸‹è¿™äº›å¯ä»¥çœ‹æˆæ˜¯ç±»æ•°ç»„ï¼š

- `NodeList`ï¼š`document.querySelectorAll()` è¿”å›çš„å¯¹è±¡ï¼›
- `HTMLCollection`ï¼š`document.getElementsByTagName()` è¿”å›çš„å¯¹è±¡ï¼›
- `Arguments`ï¼šå‡½æ•°é‡Œçš„å‚æ•°å¯¹è±¡ï¼›

ç±»æ•°ç»„æ²¡æœ‰æ•°ç»„çš„ä¸€äº›æ–¹æ³•æ¯”å¦‚ `push`ã€`map` ç­‰ï¼Œæ‰€ä»¥ç»å¸¸éœ€è¦å°†å®ƒä»¬è½¬æˆæ•°ç»„ï¼Œè€Œé€šå¸¸æˆ‘ä»¬æ˜¯è¿™ä¹ˆè½¬åŒ–çš„ï¼š

```js
let nodeList = document.querySelectorAll('div')
console.log(nodeList instanceof NodeList)  // true

let arr = Array.apply(null, nodeList)
console.log(arr instanceof Array)  // true

// æˆ–è€…
let arr2 = [].slice.call(nodeList)
console.log(arr2 instanceof Array)  // true

// åˆæˆ–è€…
let arr3 = Array.from(nodeList)
console.log(arr3 instanceof Array)  // true
```

è€Œæœ‰äº†æ‰©å±•æ“ä½œç¬¦å¯ä»¥è¿™ä¹ˆåšï¼š

```js
let nodeList = document.querySelectorAll('div')
let arr = [...nodeList]
console.log(arr instanceof Array)  // true
```

## 3. å‘æ•°ç»„ä¸­æ·»åŠ é¡¹

å¾€æ•°ç»„ä¸­æ·»åŠ å‡ é¡¹é€šå¸¸è¿™æ ·æ“ä½œï¼š

```js
let arr = [5]

// ä»å¤´éƒ¨æ·»åŠ 
arr.unshift(1, 2)
console.log(arr)  // [1, 2, 5]

// ä»å°¾éƒ¨æ·»åŠ 
arr.push(6, 7)
console.log(arr)  // [1ï¼Œ2, 5, 6, 7]

// ä»ä»»æ„ä½ç½®æ·»åŠ 
arr.splice(2, 0, 3, 4)
console.log(arr)  // [1ï¼Œ2, 3, 4, 5, 6, 7]
```

ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦åï¼š

```js
let arr = [3, 4]
arr = [1, 2, ...arr, 5, 6]
console.log(arr)  // [1, 2, 3, 4, 5, 6]
```

## 4. æ‹·è´æ•°ç»„å’Œå¯¹è±¡

é€šå¸¸æ‹·è´ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š

```js
let arr = [1, 3, 5, 7]
let arr2 = arr.concat()

// æˆ–è€…
let arr3 = arr.slice()
arr[0] = 2
console.log(arr)   // [2, 3, 5, 7]
console.log(arr2)  // [1, 3, 5, 7]
console.log(arr3)  // [1, 3, 5, 7]
```

ä½†æ˜¯æœ‰äº†æ‰©å±•æ“ä½œç¬¦ï¼Œæ‹·è´æ•°ç»„å°±èƒ½å†™å¾—å¾ˆç®€å•ï¼š

```js
let arr = [1, 3, 5, 7]
let arr2 = [...arr]
arr[0] = 2
console.log(arr2)  // [1, 3, 5, 7]
```

åŒæ ·çš„ï¼Œæ‰©å±•æ“ä½œç¬¦è¿˜èƒ½æ‹·è´å¯¹è±¡ã€‚ æ‹·è´å¯¹è±¡çš„é€šå¸¸åšæ³•ï¼š

```js
let person = { name: 'å¸ƒå…°', age: 12}
let p2 = Object.assign({}, person)
person.age = 20
console.log(person)  // { name: 'å¸ƒå…°', age: 20 }
console.log(p2)      // { name: 'å¸ƒå…°', age: 12 }
```

æœ‰äº†æ‰©å±•æ“ä½œç¬¦ï¼Œæ‹·è´ä¸€ä¸ªå¯¹è±¡å°±ç›¸å½“æ–¹ä¾¿äº†ï¼š

```js
let person = { name: 'å¸ƒå…°', age: 12 }
let p2 = {...person}
person.age = 20
console.log(person)  // { name: 'å¸ƒå…°', age: 20 }
console.log(p2)      // { name: 'å¸ƒå…°', age: 12 }

// ç”šè‡³è¿˜å¯ä»¥è¿™ä¹ˆå†™
let {...p3} = person
```

> æ³¨æ„ï¼šæ‰©å±•æ“ä½œç¬¦åªèƒ½æ·±æ‹·è´ä¸€å±‚çš„å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡æ˜¯ä¸¤å±‚çš„ç»“æ„ï¼Œé‚£ä¹ˆä½¿ç”¨æ‰©å±•æ“ä½œç¬¦æ‹·è´ä¼šæ˜¯æµ…æ‹·è´ã€‚

## 5. åˆå¹¶æ•°ç»„æˆ–å¯¹è±¡

æ•°ç»„åˆå¹¶é€šå¸¸æ˜¯è¿™ä¹ˆåšçš„ï¼š

```js
let arr1 = [1, 3, 5]
let arr2 = [2, 4, 6]
let arr3 = arr1.concat( arr2 )
console.log(arr3)  // [1, 3, 5, 2, 4, 6]
```

ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦åï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š

```js
let arr1 = [1, 3, 5]
let arr2 = [2, 4, 6]
let arr3 = [...arr1, ...arr2]
console.log(arr3)  // [1, 3, 5, 2, 4, 6]
```

å¯¹äº†ï¼Œå®ƒé™¤äº†èƒ½åˆå¹¶æ•°ç»„å¤–è¿˜èƒ½åˆå¹¶å¯¹è±¡å‘¢ã€‚åˆå¹¶å¯¹è±¡ï¼Œé€šå¸¸çš„åšæ³•æ˜¯ï¼š

```js
let p1 = { name: 'å¸ƒå…°' }
let p2 = { age: 12 }
let p3 = Object.assign({}, p1, p2)
console.log(p3)  // { name: 'å¸ƒå…°', age: 12}
```

ç”¨æ‰©å±•æ“ä½œç¬¦åˆå¹¶å¯¹è±¡ï¼š

```js
let p1 = { name: 'å¸ƒå…°' }
let p2 = { age: 12 }
let p3 = { ...p1, ...p2 }
console.log(p3)  // { name: 'å¸ƒå…°', age: 12}
```

## 6. è§£æ„å¯¹è±¡

ç»å¸¸æˆ‘ä»¬ç»™å¯¹è±¡è®¾ç½®å‚æ•°çš„æ—¶å€™ä¼šè¿™ä¹ˆåšï¼š

```js
let person = {
    name: 'å¸ƒå…°',
    age: 12,
    sex: 'male'
}
let name = person.name
let age = person.age
let sex = person.sex
```

è€Œæœ‰äº†æ‰©å±•æ“ä½œç¬¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™ä¹ˆå†™ï¼Œä¸è¿‡å…¶å®å¦‚ä¸‹è¿™ç§å†™æ³•å¹¶ä¸æ˜¯æ‰©å±•æ“ä½œç¬¦çš„å†™æ³•ğŸ¤£ï¼Œè€Œæ˜¯å‰©ä½™æ“ä½œç¬¦çš„å†™æ³•ï¼Œè™½ç„¶å†™å‡ºæ¥åçœ‹èµ·æ¥å·®ä¸å¤šï¼Œä½†å°±åœ¨æ“ä½œå¯¹è±¡è¿™ä¸€ç‚¹ä¸Šï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºå®ƒå’Œæ‰©å±•æ“ä½œç¬¦æ˜¯ç›¸åçš„æ“ä½œï¼Œæ‰©å±•æ“ä½œç¬¦æ˜¯ç”¨æ¥å±•å¼€å¯¹è±¡çš„å±æ€§åˆ°å¤šä¸ªå˜é‡ä¸Šï¼Œè€Œå‰©ä½™æ“ä½œç¬¦æ˜¯ç”¨æ¥æŠŠå¤šä¸ªå‚æ•°å‡èšåˆ°ä¸€ä¸ªå˜é‡ä¸Šã€‚

```js
let person = {
    name: 'å¸ƒå…°',
    age: 12,
    sex: 'male'
}
let { name, ...reset } = person
console.log(name)   // 'å¸ƒå…°'
console.log(reset)  // { age: 12, sex: 'male' }
```

## 7. ç»™å¯¹è±¡æ·»åŠ å±æ€§

ç»™å¯¹è±¡åŠ å±æ€§é€šå¸¸è¿™æ ·åŠ ï¼š

```js
let person = { name: 'å¸ƒå…°' }
person.age = 12
console.log(person)  // { name: 'å¸ƒå…°', age: 12 }
```

ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦ç»™å¯¹è±¡æ·»åŠ å±æ€§ï¼š

```js
let person = { name: 'å¸ƒå…°' }
person = {...person, age: 12}
console.log(person)  // { name: 'å¸ƒå…°', age: 12 }
```

å…³äºä½¿ç”¨æ‰©å±•æ“ä½œç¬¦ç»™å¯¹è±¡æ·»åŠ å±æ€§ï¼Œè¿™é‡Œæœ‰ 2 ä¸ªå°æŠ€å·§ï¼š

- 1. ç»™æ–°å¯¹è±¡è®¾ç½®é»˜è®¤å€¼ï¼š

```js
// é»˜è®¤ person å¯¹è±¡çš„ age å±æ€§å€¼ ä¸º 12
let person = {age: 12, ...{ name: 'å¸ƒå…°' } }
console.log(person)  // { age: 12, name: 'å¸ƒå…°' } 
```

- 1. é‡å†™å¯¹è±¡å±æ€§

```js
let person = { name: 'å¸ƒå…°', age: 12 }

// person å¯¹è±¡çš„ age å±æ€§è¢«é‡å†™ä¸º 20
person = {...person, age: 20 }
console.log(person)  // { name: 'å¸ƒå…°', age: 20 }
```

## 8. è®¾ç½®å¯¹è±¡ Getter

è®¾ç½®å¯¹è±¡ `Getter` é€šå¸¸åšæ³•æ˜¯è¿™æ ·ï¼š

```js
let person = { name: 'å¸ƒå…°' }
Object.defineProperty(person, 'age', {
    get() { return 12 },
    enumerable: true,
    configurable: true
})
console.log(person.age)  // 12
```

è€Œæœ‰äº†æ‰©å±•æ“ä½œç¬¦åå¯ä»¥è¿™ä¹ˆå†™ï¼š

```js
let person = { name: 'å¸ƒå…°' }
person = {
    ...person, 
    get age() { return 12 }
}
console.log(person.age)  // 12
```

## 9. å°†æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°å±•å¼€

å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå½¢å‚æ˜¯å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œä½†æ˜¯å½“è°ƒç”¨çš„æ—¶å€™å‘ç°å…¥å‚å´æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¸¸è§„åšæ³•æ˜¯è¿™æ ·ï¼š

```js
let arr = [1, 3, 5]
function fn(a, b, c) { } 
fn.apply(null, arr)
```

ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦åï¼Œå°±ç®€å•å¤šäº†ï¼š

```js
let arr = [1, 3, 5]
function fn(a, b, c) { } 
fn(...arr)
```

## 10. æ— é™å‚æ•°çš„å‡½æ•°

å¦‚æœæœ‰è¿™ä¹ˆä¸€ä¸ªç´¯åŠ å‡½æ•°ï¼Œä»–ä¼šæŠŠæ‰€æœ‰ä¼ é€’è¿›æ¥çš„å‚æ•°éƒ½åŠ èµ·æ¥ï¼Œæ™®é€šåšæ³•æ˜¯æŠŠå‚æ•°éƒ½æ•´åˆåˆ°æ•°ç»„é‡Œï¼Œç„¶åè¿™æ ·åšï¼š

```js
function doSum(arr) {
    return arr.reduce((acc, cur) => acc + cur)
}
console.log( doSum([1, 3]) )     // 4
console.log( doSum([1, 3, 5]) )  // 9
```

å¦‚æœå‚æ•°ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯éœ€è¦ä¸€ä¸ªä¸ªä¼ é€’ï¼Œç›¸å½“äºå‡½æ•°å¿…é¡»æ”¯æŒæ— é™å‚æ•°ï¼Œé‚£å¯èƒ½ä¼šè¿™ä¹ˆåšï¼š

```js
function doSum() {
    let sum = 0
    for(let i = 0, l = arguments.length; i < l; i++){
        sum += arguments[i]
    }
    return sum
    
    // æˆ–è€…
    // let args = [].slice.call(arguments) 
    // return args.reduce((acc, cur) => acc + cur)
}
console.log( doSum(1, 3) )        // 4
console.log( doSum(1, 3, 5) )     // 9
console.log( doSum(1, 3, 5, 7) )  // 16
```

è€Œæœ‰äº†æ‰©å±•æ“ä½œç¬¦ï¼Œå°±ç®€å•å¤šäº†ï¼š

```js
function doSum(...arr) {
    return arr.reduce((acc, cur) => acc + cur)
}
console.log( doSum(1, 3) )        // 4
console.log( doSum(1, 3, 5) )     // 9
console.log( doSum(1, 3, 5, 7) )  // 16
```

## 11. æ‰©å±•å‡½æ•°çš„å‰©ä½™å‚æ•°

æœ‰çš„æ—¶å€™ä¸€ä¸ªå‡½æ•°éœ€è¦ä¼ é€’å¾ˆå¤šçš„å‚æ•°ï¼Œæ¯”å¦‚å°ç¨‹åºé¡µé¢ï¼ˆ`WePY`ï¼‰çš„ `onLoad` ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡Œå°±å¯èƒ½æœ‰å¾ˆå¤šåˆ«çš„é¡µé¢ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œç„¶åè¿˜éœ€è¦åœ¨å‡½æ•°é‡Œè¿›è¡Œä¸€äº›æ•°æ®åˆå§‹åŒ–å·¥ä½œï¼Œè¿™æ ·ä¸€æ¥å°±ä¼šæ˜¾å¾—å¾ˆè‡ƒè‚¿ä¸ç¾è§‚ï¼Œæ¯”å¦‚ï¼š

```js
function init(a, b, x, y) {
    // è¿›è¡Œä¸€ç³»åˆ—åˆå§‹åŒ–æ•°æ®å·¥ä½œ
}
```

è€Œä½¿ç”¨äº†æ‰©å±•æ“ä½œç¬¦åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§ä¸šåŠ¡æŠŠå‚æ•°è¿›è¡Œè§£æ„ï¼ŒæŠŠæœ¬è¯¥åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè¿›è¡Œåˆå§‹åŒ–çš„å·¥ä½œæ‹†åˆ†æˆå¤šä¸ªï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š

```js
function other( x, y ) {}
function init(a, b, ...restConfig) {
    // ä½¿ç”¨ a å’Œ b å‚æ•°è¿›è¡Œæ“ä½œ
    // å…¶ä½™å‚æ•°ä¼ ç»™åŸå§‹å‡½æ•°
    return other( ...restConfig )
}
```

## 12. ç»“åˆ Math å‡½æ•°ä½¿ç”¨

æ¯”å¦‚å½“éœ€è¦å¯¹ä¸€ä¸ªæ•°ç»„æ±‚æœ€å¤§å€¼çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šè¿™ä¹ˆåšï¼š

```js
let arr = [3, 1, 8, 5, 4]
function max(arr) {
    return [].concat(arr).sort((a, b) => b - a)
}
console.log(max(arr)[0])  // 8

// æˆ–è€…
arr.reduce((acc, cur) => Math.max(acc, cur))  // 8

// åˆæˆ–è€…
Math.max.apply(null, arr)  // 8
```

ä½†æ˜¯ä½¿ç”¨æ‰©å±•æ“ä½œç¬¦åï¼Œèƒ½å¤ŸæŠŠç»™æ•°ç»„æ±‚æœ€å¤§å€¼å†™å¾—æ›´åŠ ç®€æ´ï¼š

```js
let arr = [3, 1, 8, 5, 4]
let max = Math.max(...arr)
console.log(max)  // 8
```

## 13. åœ¨ new è¡¨è¾¾å¼ä¸­ä½¿ç”¨

å‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„æ ¼å¼çš„æ—¥æœŸï¼Œæƒ³è¦é€šè¿‡ Date æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ—¥æœŸå®ä¾‹çš„è¯ï¼Œå¯èƒ½ä¼šè¿™ä¹ˆåšï¼š

```js
let arr = [2021, 1, 1]
let date = new Date([].toString.call(arr))
console.log(date)  // 'Mon Feb 01 2021 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'

// æˆ–è€…
let date2 = new (Function.prototype.bind.apply(
    Date, 
    [null].concat(arr)
))
console.log(date2)  // 'Mon Feb 01 2021 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)' 
```

è€Œæœ‰äº†æ‰©å±•æ“ä½œç¬¦å°±ç®€å•å¤šäº†ï¼š

```js
let arr = [2021, 1, 1]
let date = new Date(...arr)
console.log(date)  // 'Mon Feb 01 2021 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)'
```























































































